<!doctype html>
<html lang="en">
  <head>
    <script src="https://www.gstatic.com/firebasejs/3.6.9/firebase.js"></script>
    <script type="text/javascript" src="./main.js"></script>
  </head>
  <body>
    <div id="elm-app">
      <strong>This demo requires a bit of setup to get going.</strong>
      <div>
        You will need:
        <ol>
          <li>A browser that supports <a href="https://developer.mozilla.org/en/docs/Web/API/Fetch_API#Browser_compatibility">fetch()</a></li>
          <li>A json file describing your firebase config, see <a href="firebase.json.example">the example structure</a>.<br/>When you create a firebase database, there will be a butotn on the dashboard "Add Firebase to your web app", just copy the values of the config variable, and make sure you add quotes around the object keys for proper json support.</li>
        </ol>
      </div>
    </div>

    <script type="text/javascript">
      var request = new Request("firebase.json");

      fetch(request).then(function (response) {
        return response.json();
      }).then(function (firebaseConfig) {
        Elm.Main.embed(
          document.getElementById("elm-app"),
          firebaseConfig
        );
      });
    </script>
  </body>
</html>
